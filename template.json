{
	"properties": {
		"displayName": "enforceEnvironmentTag_via_ARM",
		"policyType": "Custom",
		"mode": "All",
		"description": "policy to enfore environment tag",
		"metadata": {
			"category": "Tags"
		},
		"version": "1.0.0",
		"parameters": {},
		"policyRule": {
			"if": {
				"allOf": [{
						"field": "type",
						"equals": "Microsoft.Resources/subscriptions/resourceGroups"
					},
					{
						"not": {
							"field": "tags['environment']",
							"in": [
								"Production",
								"Development",
								"Test"
							]
						}
					}
				]
			},
			"then": {
				"effect": "deny"
			}
		},
		"versions": [
			"1.0.0"
		]
	},
	"id": "/subscriptions/07c422d2-16c4-49e4-ad58-9e559d0ff47e/providers/Microsoft.Authorization/policyDefinitions/874bdea3-c575-436f-b1c6-a62a9039744b",
	"type": "Microsoft.Authorization/policyDefinitions"	
}